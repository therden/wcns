allow_embedding: false
db_schema:
  carriers:
    client: full
    columns:
    - admin_ui: {width: 330.4}
      name: carrier
      type: string
    - admin_ui: {width: 350.8}
      name: gateway
      type: string
    server: full
    title: Carriers
  files:
    client: none
    columns:
    - admin_ui: {order: 0, width: 200}
      name: path
      type: string
    - admin_ui: {order: 1, width: 200}
      name: file
      type: media
    - admin_ui: {order: 2, width: 200}
      name: file_version
      type: string
    server: full
    title: Files
  locations:
    client: full
    columns:
    - admin_ui: {width: 178.4}
      name: name
      type: string
    - admin_ui: {width: 200}
      name: graph
      type: media
    - admin_ui: {width: 200}
      name: paused
      type: bool
    - admin_ui: {width: 200}
      name: next_scheduled_alert
      type: datetime
    - admin_ui: {width: 208.4}
      name: forecast_days_by_weekday
      type: number
    - admin_ui: {width: 200}
      name: forecast_updated
      type: datetime
    - admin_ui: {width: 200}
      name: short_forecast
      type: simpleObject
    - admin_ui: {width: 200}
      name: long_forecast
      type: simpleObject
    - admin_ui: {width: 99.4}
      name: latitude
      type: number
    - admin_ui: {width: 108.4}
      name: longitude
      type: string
    - admin_ui: {width: 93.4}
      name: grid_id
      type: string
    - admin_ui: {width: 89.4}
      name: grid_x
      type: number
    - admin_ui: {width: 99.4}
      name: grid_y
      type: number
    - admin_ui: {width: 200}
      name: forecast_starttime_hours
      type: number
    - admin_ui: {width: 200}
      name: forecast_starttime_mins
      type: number
    - admin_ui: {width: 200}
      name: hours_in_forecast
      type: number
    server: full
    title: Locations
  users:
    client: none
    columns:
    - admin_ui: {width: 200}
      name: email
      type: string
    - admin_ui: {width: 200}
      name: no_notifications_until
      type: date
    - admin_ui: {width: 200}
      name: mobile
      type: string
    - admin_ui: {width: 200}
      name: administrator
      type: bool
    - admin_ui: {width: 200}
      name: enabled
      type: bool
    - admin_ui: {width: 200}
      name: last_login
      type: datetime
    - admin_ui: {width: 200}
      name: password_hash
      type: string
    - admin_ui: {width: 200}
      name: n_password_failures
      type: number
    - admin_ui: {width: 200}
      name: confirmed_email
      type: bool
    - admin_ui: {width: 200}
      name: remembered_logins
      type: simpleObject
    - admin_ui: {width: 200}
      name: signed_up
      type: datetime
    - admin_ui: {}
      name: email_confirmation_key
      type: string
    - admin_ui: {order: 0.625, width: 200}
      name: carrier
      target: carriers
      type: link_single
    - admin_ui: {order: 0.25, width: 200}
      name: notify_via_email
      type: bool
    - admin_ui: {order: 0.125, width: 200}
      name: notify_via_text
      type: bool
    - admin_ui: {order: -1, width: 200}
      name: subscribed_locations
      target: locations
      type: link_multiple
    server: full
    title: Users
metadata: {description: Facilitates sending email and/or text alerts, logo_img: 'asset:wclogo.png', title: Send email and text messages}
name: Dispatches
native_deps: {head_html: '<link href="https://fonts.googleapis.com/css2?family=Eczar:wght@400;600&family=Roboto+Condensed:wght@300;400;700&display=swap" rel="stylesheet" rel="preload" as="font" crossorigin="anonymous">'}
package_name: Dispatches
runtime_options:
  client_version: '3'
  server_spec: {base: python310-datascience}
  server_version: python3-full
  version: 2
scheduled_tasks: []
services:
- client_config: {enable_v2: true}
  server_config: {auto_create_missing_columns: true}
  source: /runtime/services/tables.yml
- client_config: {}
  server_config: {test_mode: true}
  source: /runtime/services/anvil/email.yml
- client_config: {allow_remember_me: true, allow_signup: true, confirm_email: true, enable_automatically: true, remember_me_days: 30, use_email: true, use_token: false}
  server_config:
    email_content:
      confirm_address: {html: '<p>Your email address was used to request an account for the <a href="https://wind-chill-notification-service.anvil.app/" rel="noopener noreferrer" target="_blank"><strong><em>Wind Chill Notification Service</em></strong></a>.</p><p><br></p><p>To complete the account creation process, click the following link to confirm that this <em><u>is</u></em> your email account:</p><p><br></p><p>{{confirm_link}}</p><p><br></p><p>(If <em>you</em> haven''t requested an account for our service, then we''re sorry to inform you that <em>someone</em> tried to do so using your email address. We <u>won''t</u> activate an account connected with this email address unless the confirmation link above is clicked.)</p><p><br></p><p>Thank you,</p><p>The <a href="https://wind-chill-notification-service.anvil.app/" rel="noopener noreferrer" target="_blank" style="background-color: rgb(255, 255, 255);"><strong><em>Wind Chill Notification Service</em></strong></a> team</p>', subject: Email confirmation for New account}
      reset_password: {html: '<p>Hi there,</p><p><br></p><p>We''ve received a "password reset" request for your {{email}} account with the <a href="https://wind-chill-notification-service.anvil.app/" rel="noopener noreferrer" target="_blank" style="background-color: rgb(255, 255, 255);"><strong><em>Wind Chill Notification Service</em></strong></a>.</p><p><br></p><p>To reset your password, click the link below:</p><p><br></p><p>{{reset_link}}</p><p><br></p><p>The link will expire in ten minutes -- but you can always submit another reset request.</p><p><br></p><p>Thank you,</p><p>The <a href="https://wind-chill-notification-service.anvil.app/" rel="noopener noreferrer" target="_blank" style="background-color: rgb(255, 255, 255);"><strong><em>Wind Chill Notification Service</em></strong></a> team</p>', subject: 'Password reset for Wind Chill Notification Service '}
      token_login: {html: '<p>Hi there,</p><p>A login request was received for your account ({{email}}). To log in, click the link below:</p><p>{{login_link}}</p><p>This link will expire in ten minutes.</p><p><br></p><p>Thank you,</p><p>The <a href="https://wind-chill-notification-service.anvil.app/" rel="noopener noreferrer" target="_blank" style="background-color: rgb(255, 255, 255);"><strong><em>Wind Chill Notification Service</em></strong></a> team</p>'}
    email_from_address: accounts@wind-chill-notification-service.anvil.app
    user_table: users
  source: /runtime/services/anvil/users.yml
- client_config: {}
  server_config: {file_table: files}
  source: /runtime/services/anvil/files.yml
startup: {module: Main, type: form}
startup_form: null
